<!DOCTYPE html>
<!-- saved from url=(0056)http://wiki.mobileread.com/wiki/MOBI#PalmDOC_Compression -->
<html lang="en" dir="ltr" class="client-chrome client-chrome-1 client-webkit client-mac"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>MobileRead Wiki - MOBI</title>
<meta name="generator" content="MediaWiki 1.17.0">
<link rel="alternate" type="application/x-wiki" title="Edit" href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit">
<link rel="edit" title="Edit" href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit">
<link rel="shortcut icon" href="http://wiki.mobileread.com/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.mobileread.com/w/opensearch_desc.php" title="MobileRead (en)">
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.mobileread.com/w/api.php?action=rsd">
<link title="Creative Commons" type="application/rdf+xml" href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=creativecommons" rel="meta">
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">
<link rel="alternate" type="application/atom+xml" title="MobileRead Atom feed" href="http://wiki.mobileread.com/w/index.php?title=Special:RecentChanges&feed=atom">
<link rel="stylesheet" href="http://wiki.mobileread.com/w/load.php?debug=false&lang=en&modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&only=styles&skin=vector&*">
<style type="text/css" media="all">.suggestions{overflow:hidden;position:absolute;top:0px;left:0px;width:0px;border:none;z-index:99;padding:0;margin:-1px -1px 0 0} html > body .suggestions{margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:Window;font-size:0.8em;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;background-color:Window;font-size:0.8em;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;color:WindowText;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left}.suggestions-result-current{background-color:#4C59A6;background-color:Highlight;color:white;color:HighlightText}.suggestions-special .special-label{font-size:0.8em;color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white;color:HighlightText}.autoellipsis-matched,.highlight{font-weight:bold}</style><meta name="ResourceLoaderDynamicStyles" content=""><link rel="stylesheet" href="http://wiki.mobileread.com/w/load.php?debug=false&lang=en&modules=site&only=styles&skin=vector&*">
<link rel="stylesheet" href="http://wiki.mobileread.com/w/load.php?debug=false&lang=en&modules=site&only=styles&skin=vector&*">
<link rel="stylesheet" href="http://wiki.mobileread.com/w/load.php?debug=false&lang=en&modules=site&only=styles&skin=vector&*">

<script async="" type="text/javascript" src="./mobi-spec_files/gpt.js"></script><script src="./mobi-spec_files/quant.js" async="" type="text/javascript"></script><script type="text/javascript" async="" src="./mobi-spec_files/ga.js"></script><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-65192-2']);
_gaq.push(['_trackPageview']);
(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
 
<script type="text/javascript">
  var _qevents = _qevents || [];

  (function() {
   var elem = document.createElement('script');

   elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
   elem.async = true;
   elem.type = "text/javascript";
   var scpt = document.getElementsByTagName('script')[0];
   scpt.parentNode.insertBefore(elem, scpt);  
  })();
</script>

<script type="text/javascript">
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>
<!--test-->
<script type="text/javascript">
googletag.cmd.push(function() {
googletag.defineSlot('/1019725/MRW-728Ad1', [728, 90], 'div-gpt-ad-1319669668549-3').addService(googletag.pubads());
googletag.defineSlot('/1019725/MRW-300Ad1', [300, 250], 'div-gpt-ad-1319669668549-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>		
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/w/skins/vector/csshover.min.htc")}</style><![endif]--><script async="" type="text/javascript" src="./mobi-spec_files/google_ads_gpt.js"></script></head>
<body class="mediawiki ltr ns-0 ns-subject page-MOBI skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
			
							<!-- MRW-728Ad1 -->
				<div id="div-gpt-ad-1319669668549-3" style="width:728px; height:90px; padding-top:10px;">
				<script type="text/javascript">
					googletag.cmd.push(function() { googletag.display('div-gpt-ad-1319669668549-3'); });
				</script>
				<iframe id="google_ads_iframe_/1019725/MRW-728Ad1_0" name="google_ads_iframe_/1019725/MRW-728Ad1_0" width="728" height="90" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; "></iframe><iframe id="google_ads_iframe_/1019725/MRW-728Ad1_0__hidden__" name="google_ads_iframe_/1019725/MRW-728Ad1_0__hidden__" width="0" height="0" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; visibility: hidden; display: none; "></iframe></div>
			
			<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">MOBI</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
				<!-- tagline -->
				<div id="siteSub">From MobileRead</div>
				<!-- /tagline -->
				<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav">
					Jump to: <a href="http://wiki.mobileread.com/wiki/MOBI#mw-head">navigation</a>,
					<a href="http://wiki.mobileread.com/wiki/MOBI#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodytext -->
				<p>MOBI is the format used by the <a href="http://wiki.mobileread.com/wiki/MobiPocket_Reader" title="MobiPocket Reader">MobiPocket Reader</a>. It may have a .mobi extension or it may have a <a href="http://wiki.mobileread.com/wiki/PRC" title="PRC">.prc</a> extension. The extension can be changed by the user to either of the accepted forms. In either case it may be <a href="http://wiki.mobileread.com/wiki/DRM" title="DRM">DRM</a> protected or non-DRM. The .prc extension is used because the <a href="http://wiki.mobileread.com/wiki/PalmOS" title="PalmOS" class="mw-redirect">PalmOS</a> doesn't support any <a href="http://wiki.mobileread.com/wiki/File_extension" title="File extension">file extensions</a> except <a href="http://wiki.mobileread.com/wiki/PRC" title="PRC">.prc</a> or <a href="http://wiki.mobileread.com/wiki/PDB" title="PDB">.pdb</a>. Note that <a href="http://wiki.mobileread.com/wiki/Mobipocket" title="Mobipocket" class="mw-redirect">Mobipocket</a> prohibits their <a href="http://wiki.mobileread.com/wiki/DRM" title="DRM">DRM</a> format to be used on dedicated eBook readers that support other DRM formats.
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2> <span class="toctoggle">[<a id="togglelink" class="internal" href="http://wiki.mobileread.com/wiki/MOBI#">hide</a>]</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="http://wiki.mobileread.com/wiki/MOBI#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="http://wiki.mobileread.com/wiki/MOBI#Format"><span class="tocnumber">1.1</span> <span class="toctext">Format</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="http://wiki.mobileread.com/wiki/MOBI#PalmDOC_Header"><span class="tocnumber">1.1.1</span> <span class="toctext">PalmDOC Header</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="http://wiki.mobileread.com/wiki/MOBI#MOBI_Header"><span class="tocnumber">1.1.2</span> <span class="toctext">MOBI Header</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="http://wiki.mobileread.com/wiki/MOBI#EXTH_Header"><span class="tocnumber">1.1.3</span> <span class="toctext">EXTH Header</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="http://wiki.mobileread.com/wiki/MOBI#Remainder_of_Record_0"><span class="tocnumber">1.1.4</span> <span class="toctext">Remainder of Record 0</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="http://wiki.mobileread.com/wiki/MOBI#Index_meta_record"><span class="tocnumber">1.1.5</span> <span class="toctext">Index meta record</span></a>
<ul>
<li class="toclevel-4 tocsection-8"><a href="http://wiki.mobileread.com/wiki/MOBI#TAGX_section"><span class="tocnumber">1.1.5.1</span> <span class="toctext">TAGX section</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-9"><a href="http://wiki.mobileread.com/wiki/MOBI#Variable-width_integers"><span class="tocnumber">1.1.6</span> <span class="toctext">Variable-width integers</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="http://wiki.mobileread.com/wiki/MOBI#Trailing_entries"><span class="tocnumber">1.1.7</span> <span class="toctext">Trailing entries</span></a>
<ul>
<li class="toclevel-4 tocsection-11"><a href="http://wiki.mobileread.com/wiki/MOBI#Multibyte_character_overlap"><span class="tocnumber">1.1.7.1</span> <span class="toctext">Multibyte character overlap</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-12"><a href="./mobi-spec_files/mobi-spec.html"><span class="tocnumber">1.1.8</span> <span class="toctext">PalmDOC Compression</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="http://wiki.mobileread.com/wiki/MOBI#Image_Records"><span class="tocnumber">1.1.9</span> <span class="toctext">Image Records</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="http://wiki.mobileread.com/wiki/MOBI#Magic_Records"><span class="tocnumber">1.1.10</span> <span class="toctext">Magic Records</span></a>
<ul>
<li class="toclevel-4 tocsection-15"><a href="http://wiki.mobileread.com/wiki/MOBI#FLIS_Record"><span class="tocnumber">1.1.10.1</span> <span class="toctext">FLIS Record</span></a></li>
<li class="toclevel-4 tocsection-16"><a href="http://wiki.mobileread.com/wiki/MOBI#FCIS_Record"><span class="tocnumber">1.1.10.2</span> <span class="toctext">FCIS Record</span></a></li>
<li class="toclevel-4 tocsection-17"><a href="http://wiki.mobileread.com/wiki/MOBI#End-of-file_Record"><span class="tocnumber">1.1.10.3</span> <span class="toctext">End-of-file Record</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-18"><a href="http://wiki.mobileread.com/wiki/MOBI#SRCS_Record"><span class="tocnumber">1.1.11</span> <span class="toctext">SRCS Record</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="http://wiki.mobileread.com/wiki/MOBI#Media_Records_.28AUDI.2FVIDE.29"><span class="tocnumber">1.1.12</span> <span class="toctext">Media Records (AUDI/VIDE)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-20"><a href="http://wiki.mobileread.com/wiki/MOBI#MBP"><span class="tocnumber">1.2</span> <span class="toctext">MBP</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="http://wiki.mobileread.com/wiki/MOBI#eBook_Creation"><span class="tocnumber">2</span> <span class="toctext">eBook Creation</span></a>
<ul>
<li class="toclevel-2 tocsection-22"><a href="http://wiki.mobileread.com/wiki/MOBI#Guidelines"><span class="tocnumber">2.1</span> <span class="toctext">Guidelines</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="http://wiki.mobileread.com/wiki/MOBI#Adapting_images_to_various_PDA_screen_resolutions"><span class="tocnumber">2.2</span> <span class="toctext">Adapting images to various PDA screen resolutions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href="http://wiki.mobileread.com/wiki/MOBI#Format_limitations"><span class="tocnumber">3</span> <span class="toctext">Format limitations</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="http://wiki.mobileread.com/wiki/MOBI#MOBI_DRM"><span class="tocnumber">4</span> <span class="toctext">MOBI DRM</span></a></li>
<li class="toclevel-1 tocsection-26"><a href="http://wiki.mobileread.com/wiki/MOBI#MOBI_eBook_Readers_and_converters"><span class="tocnumber">5</span> <span class="toctext">MOBI eBook Readers and converters</span></a></li>
<li class="toclevel-1 tocsection-27"><a href="http://wiki.mobileread.com/wiki/MOBI#MOBI_eBook_Hardware_Readers"><span class="tocnumber">6</span> <span class="toctext">MOBI eBook Hardware Readers</span></a></li>
<li class="toclevel-1 tocsection-28"><a href="http://wiki.mobileread.com/wiki/MOBI#Create_a_MOBI_file_from_an_ePub_file"><span class="tocnumber">7</span> <span class="toctext">Create a MOBI file from an ePub file</span></a></li>
<li class="toclevel-1 tocsection-29"><a href="http://wiki.mobileread.com/wiki/MOBI#For_more_information"><span class="tocnumber">8</span> <span class="toctext">For more information</span></a></li>
</ul>
</td></tr></tbody></table>

<h2><span class="mw-headline">Advertisement</span></h2> 
<!-- MRW-300Ad1 -->
<div id="div-gpt-ad-1319669668549-0" style="width:300px; height:250px;">
<script type="text/javascript">
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1319669668549-0'); });
</script>
<iframe id="google_ads_iframe_/1019725/MRW-300Ad1_0" name="google_ads_iframe_/1019725/MRW-300Ad1_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; "></iframe><iframe id="google_ads_iframe_/1019725/MRW-300Ad1_0__hidden__" name="google_ads_iframe_/1019725/MRW-300Ad1_0__hidden__" width="0" height="0" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; visibility: hidden; display: none; "></iframe></div>
<h2><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=1" title="Edit section: Description">edit</a>]</span> <span class="mw-headline" id="Description">Description</span></h2>
<p>MOBI format was originally an extension of the <a href="http://wiki.mobileread.com/wiki/PalmDOC" title="PalmDOC">PalmDOC</a> format by adding certain <a href="http://wiki.mobileread.com/wiki/HTML" title="HTML">HTML</a> like tags to the data. Many MOBI formatted documents still use this form. However there is also a high compression version of this file format that compresses data to a larger degree in a proprietary manner. There are some third party programs that can read the eBooks in the original MOBI format but there are only a few third party program that can read the eBooks in the new compressed form. The higher compression mode is using a huffman coding scheme that has been called the Huff/cdic algorithm. For a description in Python check 
<a href="http://bazaar.launchpad.net/~kovid/calibre/trunk/view/head:/src/calibre/ebooks/mobi/huffcdic.py" class="external text" rel="nofollow">huffcdic.py</a> available as part of the <a href="http://wiki.mobileread.com/wiki/Calibre" title="Calibre">Calibre</a> project.
</p><p>From time to time features have been added to the format so new files may have problems if you try to read them with a down level reader. Currently the source files follow the guidelines in the <a href="http://wiki.mobileread.com/wiki/Open_eBook" title="Open eBook">Open eBook</a> format.
</p><p><b>Note that <a href="http://wiki.mobileread.com/wiki/AZW" title="AZW">AZW</a> for the <a href="http://wiki.mobileread.com/wiki/Amazon_Kindle" title="Amazon Kindle">Amazon Kindle</a> is the same format as MOBI except that it uses a different <a href="http://wiki.mobileread.com/wiki/DRM" title="DRM">DRM</a> scheme.</b> Amazon owns Mobipocket. The format description below applies to both file types.
</p>
<h3><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=2" title="Edit section: Format">edit</a>]</span> <span class="mw-headline" id="Format">Format</span></h3>
<p>Like PalmDOC, the Mobipocket file format  is that of a standard <a href="http://wiki.mobileread.com/wiki/PDB#Palm_Database_Format" title="PDB">Palm Database Format</a> file. The header of that format includes the name of the database (usually the book title and sometimes a portion of the authors name) which is up to <b>31</b> bytes of data. The files are identified as Creator ID of MOBI and a Type of BOOK.
</p><p>Mobipocket have some minimal file format info, mainly about the html encoding they use in the text of the book, at <a href="http://www.mobipocket.com/dev/article.asp?BaseFolder=prcgen" class="external free" rel="nofollow">http://www.mobipocket.com/dev/article.asp?BaseFolder=prcgen</a>
</p>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=3" title="Edit section: PalmDOC Header">edit</a>]</span> <span class="mw-headline" id="PalmDOC_Header"> PalmDOC Header </span></h4>
<p>The first record in the <a href="http://wiki.mobileread.com/wiki/PDB#Palm_Database_Format" title="PDB">Palm Database Format</a>  gives more information about the Mobipocket file. The first 16 bytes are almost identical to the first sixteen bytes of a PalmDOC format file.
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>0</td>
<td>2</td>
<td>Compression</td>
<td> 1 == no compression, 2 = PalmDOC compression, 17480 = HUFF/CDIC compression
</td></tr>
<tr>
<td>2</td>
<td>2</td>
<td>Unused</td>
<td>Always zero
</td></tr>
<tr>
<td>4</td>
<td>4</td>
<td>text length</td>
<td>Uncompressed length of the entire text of the book
</td></tr>
<tr>
<td>8</td>
<td>2</td>
<td>record count</td>
<td>Number of PDB records used for the text of the book.
</td></tr>
<tr>
<td>10</td>
<td>2</td>
<td>record size</td>
<td>Maximum size of each record containing text, always 4096
</td></tr>
<tr>
<td>12</td>
<td>4</td>
<td>Current Position</td>
<td>Current reading position, as an offset into the uncompressed text
</td></tr></tbody></table>
<p>There are two differences from a Palm DOC file. There's an additional compression type (17480), and the Current Position bytes are used for a different purpose:
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>12</td>
<td>2</td>
<td>Encryption Type</td>
<td> 0 == no encryption, 1 = Old Mobipocket Encryption, 2 = Mobipocket Encryption
</td></tr>
<tr>
<td>14</td>
<td>2</td>
<td>Unknown</td>
<td>Usually zero
</td></tr></tbody></table>
<p>The old Mobipocket Encryption scheme only allows the file to be registered with one PID, unlike the current encryption scheme that allows multiple PIDs to be used in a single file. Unless specifically mentioned, all the encryption information on this page refers to the current scheme.
</p>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=4" title="Edit section: MOBI Header">edit</a>]</span> <span class="mw-headline" id="MOBI_Header"> MOBI Header </span></h4>
<p>Most Mobipocket file also have a MOBI header in record 0 that follows these 16 bytes, and newer formats also have an EXTH header following the MOBI header, again all in record 0 of the PDB file format.
</p><p>The MOBI header is of variable length and is not documented. Some fields have been tentatively identified as follows:
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>hex</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>16</td>
<td>0x10</td>
<td>4</td>
<td>identifier</td>
<td>the characters M O B I
</td></tr>
<tr>
<td>20</td>
<td>0x14</td>
<td>4</td>
<td>header length</td>
<td> the length of the MOBI header, including the previous 4 bytes
</td></tr>
<tr>
<td>24</td>
<td>0x18</td>
<td>4</td>
<td>Mobi type</td>
<td>The kind of Mobipocket file this is
<p>2      Mobipocket Book
</p><p>3      PalmDoc Book
</p><p>4      Audio
</p><p>257   News
</p><p>258   News_Feed
</p><p>259   News_Magazine
</p><p>513   PICS
</p><p>514   WORD
</p><p>515   XLS
</p><p>516   PPT
</p><p>517   TEXT
</p><p>518   HTML
</p>
</td></tr>
<tr>
<td>28</td>
<td>0x1c</td>
<td>4</td>
<td>text Encoding</td>
<td>1252 = CP1252 (WinLatin1); 65001 = UTF-8
</td></tr>
<tr>
<td>32</td>
<td>0x20</td>
<td>4</td>
<td>Unique-ID</td>
<td>Some kind of unique ID number (random?)
</td></tr>
<tr>
<td>36</td>
<td>0x24</td>
<td>4</td>
<td>File version</td>
<td>Version of the Mobipocket format used in this file.
</td></tr>
<tr>
<td>40</td>
<td>0x28</td>
<td>4</td>
<td>Ortographic index</td>
<td>Section number of orthographic meta index. 0xFFFFFFFF if index is not available.
</td></tr>
<tr>
<td>44</td>
<td>0x2c</td>
<td>4</td>
<td>Inflection index</td>
<td>Section number of inflection meta index. 0xFFFFFFFF if index is not available.
</td></tr>
<tr>
<td>48</td>
<td>0x30</td>
<td>4</td>
<td>Index names</td>
<td>0xFFFFFFFF if index is not available.
</td></tr>
<tr>
<td>52</td>
<td>0x34</td>
<td>4</td>
<td>Index keys</td>
<td>0xFFFFFFFF if index is not available.
</td></tr>
<tr>
<td>56</td>
<td>0x38</td>
<td>4</td>
<td>Extra index 0</td>
<td>Section number of extra 0 meta index. 0xFFFFFFFF if index is not available.
</td></tr>
<tr>
<td>60</td>
<td>0x3c</td>
<td>4</td>
<td>Extra index 1</td>
<td>Section number of extra 1 meta index. 0xFFFFFFFF if index is not available.
</td></tr>
<tr>
<td>64</td>
<td>0x40</td>
<td>4</td>
<td>Extra index 2</td>
<td>Section number of extra 2 meta index. 0xFFFFFFFF if index is not available.
</td></tr>
<tr>
<td>68</td>
<td>0x44</td>
<td>4</td>
<td>Extra index 3</td>
<td>Section number of extra 3 meta index. 0xFFFFFFFF if index is not available.
</td></tr>
<tr>
<td>72</td>
<td>0x48</td>
<td>4</td>
<td>Extra index 4</td>
<td>Section number of extra 4 meta index. 0xFFFFFFFF if index is not available.
</td></tr>
<tr>
<td>76</td>
<td>0x4c</td>
<td>4</td>
<td>Extra index 5</td>
<td>Section number of extra 5 meta index. 0xFFFFFFFF if index is not available.
</td></tr>
<tr>
<td>80</td>
<td>0x50</td>
<td>4</td>
<td>First Non-book index?</td>
<td>First record number (starting with 0) that's not the book's text
</td></tr>
<tr>
<td>84</td>
<td>0x54</td>
<td>4</td>
<td>Full Name Offset</td>
<td>Offset in record 0 (not from start of file) of the full name of the book
</td></tr>
<tr>
<td>88</td>
<td>0x58</td>
<td>4</td>
<td>Full Name Length</td>
<td>Length in bytes of the full name of the book
</td></tr>
<tr>
<td>92</td>
<td>0x5c</td>
<td>4</td>
<td>Locale</td>
<td>Book locale code. Low byte is main language 09= English, next byte is dialect, 08 = British, 04 = US. Thus US English is 1033, UK English is 2057.
</td></tr>
<tr>
<td>96</td>
<td>0x60</td>
<td>4</td>
<td>Input Language</td>
<td>Input language for a dictionary
</td></tr>
<tr>
<td>100</td>
<td>0x64</td>
<td>4</td>
<td>Output Language</td>
<td>Output language for a dictionary
</td></tr>
<tr>
<td>104</td>
<td>0x68</td>
<td>4</td>
<td>Min version</td>
<td>Minimum mobipocket version support needed to read this file.
</td></tr>
<tr>
<td>108</td>
<td>0x6c</td>
<td>4</td>
<td>First Image index</td>
<td>First record number (starting with 0) that contains an image. Image records should be sequential.
</td></tr>
<tr>
<td>112</td>
<td>0x70</td>
<td>4</td>
<td>Huffman Record Offset</td>
<td> The record number of the first huffman compression record.
</td></tr>
<tr>
<td>116</td>
<td>0x74</td>
<td>4</td>
<td>Huffman Record Count</td>
<td> The number of huffman compression records.
</td></tr>
<tr>
<td>120</td>
<td>0x78</td>
<td>4</td>
<td>Huffman Table Offset</td>
<td>
</td></tr>
<tr>
<td>124</td>
<td>0x7c</td>
<td>4</td>
<td>Huffman Table Length</td>
<td>
</td></tr>
<tr>
<td>128</td>
<td>0x80</td>
<td>4</td>
<td>EXTH flags</td>
<td>bitfield. if bit 6 (0x40) is set, then there's an EXTH record
</td></tr>
<tr>
<td>132</td>
<td>0x84</td>
<td>32</td>
<td>?</td>
<td>32 unknown bytes, if MOBI is long enough
</td></tr>
<tr>
<td>164</td>
<td>0xa4</td>
<td>4</td>
<td>DRM Offset</td>
<td>Offset to DRM key info in DRMed files. 0xFFFFFFFF if no DRM
</td></tr>
<tr>
<td>168</td>
<td>0xa8</td>
<td>4</td>
<td>DRM Count</td>
<td>Number of entries in DRM info. 0xFFFFFFFF if no DRM
</td></tr>
<tr>
<td>172</td>
<td>0xac</td>
<td>4</td>
<td>DRM Size</td>
<td>Number of bytes in DRM info.
</td></tr>
<tr>
<td>176</td>
<td>0xb0</td>
<td>4</td>
<td>DRM Flags</td>
<td>Some flags concerning the DRM info.
</td></tr>
<tr>
<td>180</td>
<td>0xb4</td>
<td>?</td>
<td>?</td>
<td>Bytes to the end of the MOBI header, including the following if the header length &gt;= 228. ( 244 from start of record)
</td></tr>
<tr>
<td>242</td>
<td>0xf2</td>
<td>2</td>
<td>Extra Data Flags</td>
<td> A set of binary flags, some of which indicate extra data at the end of each text block. This only seems to be valid for Mobipocket format version 5 and 6 (and higher?), when the header length is 228 (0xE4) or 232 (0xE8).
</td></tr>
<tr>
<td>244</td>
<td>0xf4</td>
<td>4</td>
<td>INDX Record Offset</td>
<td>(If not 0xFFFFFFFF)The record number of the first INDX record created from an ncx file.
</td></tr></tbody></table>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=5" title="Edit section: EXTH Header">edit</a>]</span> <span class="mw-headline" id="EXTH_Header"> EXTH Header </span></h4>
<p>If the MOBI header indicates that there's an EXTH header, it follows immediately after the MOBI header. Since the MOBI header is of variable length, this isn't at any fixed offset in record 0. Note that some readers will ignore any EXTH header info if the mobipocket version number specified in the MOBI header is 2 or less (perhaps 3 or less).
</p><p>The EXTH header is also undocumented, so some of this is guesswork.
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>4</td>
<td>identifier</td>
<td>the characters E X T H
</td></tr>
<tr>
<td>4</td>
<td>header length</td>
<td> the length of the EXTH header, including the previous 4 bytes
</td></tr>
<tr>
<td>4</td>
<td>record Count</td>
<td>The number of records in the EXTH header. the rest of the EXTH header consists of repeated EXTH records to the end of the EXTH length.
</td></tr>
<tr>
<td> </td>
<td>EXTH record start</td>
<td>Repeat until done.
</td></tr>
<tr>
<td>4</td>
<td>record type</td>
<td>Exth Record type.  Just a number identifying what's stored in the record
</td></tr>
<tr>
<td>4</td>
<td>record length</td>
<td>length of EXTH record = L , including the 8 bytes in the type and length fields
</td></tr>
<tr>
<td>L-8</td>
<td>record data</td>
<td>Data.
</td></tr>
<tr>
<td> </td>
<td>EXTH record end</td>
<td>Repeat until done.
</td></tr>
<tr>
<td>p</td>
<td>Padding</td>
<td>Null bytes to pad the EXTH header to a multiple of four bytes (none if the header is already a multiple of four)
</td></tr></tbody></table>
<p>There are lots of different EXTH Records types. Ones found so far in Mobipocket files are listed here, with possible meanings. Hopefully the table will be filled in as more information comes to light.
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>record type</th>
<th>usual length</th>
<th>name</th>
<th>comments</th>
<th>opf meta tag
</th></tr>
<tr>
<td>1</td>
<td> </td>
<td>drm_server_id</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>2</td>
<td> </td>
<td> drm_commerce_id</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>3</td>
<td> </td>
<td>drm_ebookbase_book_id</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>100</td>
<td> </td>
<td>author</td>
<td> </td>
<td>&lt;dc:Creator&gt;
</td></tr>
<tr>
<td>101</td>
<td> </td>
<td>publisher</td>
<td> </td>
<td> &lt;dc:Publisher&gt;
</td></tr>
<tr>
<td>102</td>
<td> </td>
<td>imprint</td>
<td> </td>
<td> &lt;Imprint&gt;
</td></tr>
<tr>
<td>103</td>
<td> </td>
<td>description</td>
<td> </td>
<td>&lt;dc:Description&gt;
</td></tr>
<tr>
<td>104</td>
<td> </td>
<td>isbn</td>
<td> </td>
<td>&lt;dc:Identifier scheme='ISBN'&gt;
</td></tr>
<tr>
<td>105</td>
<td> </td>
<td>subject</td>
<td> </td>
<td>&lt;dc:Subject&gt;
</td></tr>
<tr>
<td>106</td>
<td> </td>
<td>publishingdate</td>
<td> </td>
<td>&lt;dc:Date&gt;
</td></tr>
<tr>
<td>107</td>
<td> </td>
<td>review</td>
<td> </td>
<td>&lt;Review&gt;
</td></tr>
<tr>
<td>108</td>
<td> </td>
<td>contributor</td>
<td> </td>
<td>&lt;dc:Contributor&gt;
</td></tr>
<tr>
<td>109</td>
<td> </td>
<td>rights</td>
<td> </td>
<td>&lt;dc:Rights&gt;
</td></tr>
<tr>
<td>110</td>
<td> </td>
<td>subjectcode</td>
<td> </td>
<td>&lt;dc:Subject BASICCode="subjectcode"&gt;
</td></tr>
<tr>
<td>111</td>
<td> </td>
<td>type</td>
<td> </td>
<td>&lt;dc:Type&gt;
</td></tr>
<tr>
<td>112</td>
<td> </td>
<td>source</td>
<td> </td>
<td>&lt;dc:Source&gt;
</td></tr>
<tr>
<td>113</td>
<td> </td>
<td>asin</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>114</td>
<td> </td>
<td>versionnumber</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>115</td>
<td>4</td>
<td>sample</td>
<td>0x0001 if the book content is only a sample of the full book</td>
<td>
</td></tr>
<tr>
<td>116</td>
<td> </td>
<td>startreading</td>
<td>Position (4-byte offset) in file at which to open when first opened</td>
<td>
</td></tr>
<tr>
<td>117</td>
<td>3</td>
<td>adult</td>
<td>Mobipocket Creator adds this if <i>Adult only</i> is checked on its GUI; contents: "yes"</td>
<td> &lt;Adult&gt;
</td></tr>
<tr>
<td>118</td>
<td> </td>
<td>retail price</td>
<td>As text, e.g. "4.99"</td>
<td>&lt;SRP&gt;
</td></tr>
<tr>
<td>119</td>
<td> </td>
<td>retail price currency</td>
<td>As text, e.g. "USD"</td>
<td>&lt;SRP Currency="currency"&gt;
</td></tr>
<tr>
<td>200</td>
<td>3 </td>
<td>Dictionary short name</td>
<td>As text</td>
<td>&lt;DictionaryVeryShortName&gt;
</td></tr>
<tr>
<td>201</td>
<td>4 </td>
<td>coveroffset</td>
<td> Add to first image field in Mobi Header to find PDB record containing the cover image</td>
<td>&lt;EmbeddedCover&gt;
</td></tr>
<tr>
<td>202</td>
<td>4</td>
<td>thumboffset</td>
<td> Add to first image field in Mobi Header to find PDB record containing the thumbnail cover image</td>
<td>
</td></tr>
<tr>
<td>203</td>
<td> </td>
<td>hasfakecover</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>204</td>
<td>4 </td>
<td>Creator Software</td>
<td>Known Values: 1=mobigen, 2=Mobipocket Creator, 200=kindlegen (Windows), 201=kindlegen (Linux), 202=kindlegen (Mac).<br><b>Warning:</b> Calibre creates fake creator entries, pretending to be a Linux kindlegen 1.2 (201, 1, 2, 33307) for normal ebooks and a non-public Linux kindlegen 2.0 (201, 2, 0, 101) for periodicals.</td>
<td>
</td></tr>
<tr>
<td>205</td>
<td>4 </td>
<td>Creator Major Version</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>206</td>
<td>4 </td>
<td>Creator Minor Version</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>207</td>
<td>4 </td>
<td>Creator Build Number</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>208</td>
<td> </td>
<td>watermark</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>209</td>
<td> </td>
<td>tamper proof keys</td>
<td>Used by the Kindle (and Android app) for generating book-specific PIDs.</td>
<td>
</td></tr>
<tr>
<td>300</td>
<td> </td>
<td>fontsignature</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>401</td>
<td>1 </td>
<td>clippinglimit</td>
<td>Integer percentage of the text allowed to be clipped. Usually 10.</td>
<td>
</td></tr>
<tr>
<td>402</td>
<td> </td>
<td>publisherlimit</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>403</td>
<td> </td>
<td>Unknown</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>404</td>
<td>1</td>
<td>ttsflag</td>
<td>1 - Text to Speech disabled; 0 - Text to Speech enabled</td>
<td>
</td></tr>
<tr>
<td>405</td>
<td>1</td>
<td>Unknown</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>406</td>
<td>8</td>
<td>Unknown</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>407</td>
<td>8</td>
<td>Unknown</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>450</td>
<td>4</td>
<td>Unknown</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>451</td>
<td>4</td>
<td>Unknown</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>452</td>
<td>4</td>
<td>Unknown</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>453</td>
<td>4</td>
<td>Unknown</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>501</td>
<td>4</td>
<td>cdetype</td>
<td> PDOC - Personal Doc; EBOK - ebook;</td>
<td>
</td></tr>
<tr>
<td>502</td>
<td> </td>
<td>lastupdatetime</td>
<td> </td>
<td>
</td></tr>
<tr>
<td>503</td>
<td> </td>
<td>updatedtitle</td>
<td> </td>
<td>
</td></tr></tbody></table>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=6" title="Edit section: Remainder of Record 0">edit</a>]</span> <span class="mw-headline" id="Remainder_of_Record_0"> Remainder of Record 0 </span></h4>
<p>At the end of Record 0 of the PDB file format, we usually get the full file name, the offset of which is given in the MOBI header.
</p><p>There might be data of unknown use between the end of the EXTH records and the name. 
</p><p>The name is followed by two null bytes, and then padded with null bytes to a four-byte boundary. For example, if the name is 16 bytes long, with two null bytes, that makes 18 bytes, and it then gets another two null bytes added to make it up to 20 bytes in total. However, the length stored in the header is only 16. If the name was 19 bytes, it would be followed by two null bytes to make it up to 21 bytes, and then padded with three more null bytes to make it up to 24 bytes.
</p><p>The name and padding is followed by more data of unknown use, usually null bytes, to the end of section 0.
</p>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=7" title="Edit section: Index meta record">edit</a>]</span> <span class="mw-headline" id="Index_meta_record"> Index meta record </span></h4>
<p>The first record of an index contains the meta data of the index.
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>hex</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>0</td>
<td>0x00</td>
<td>4</td>
<td>Identifier</td>
<td>the characters I N D X
</td></tr>
<tr>
<td>4</td>
<td>0x04</td>
<td>4</td>
<td>header length</td>
<td>the length of the INDX header, including the previous 4 bytes
</td></tr>
<tr>
<td>8</td>
<td>0x08</td>
<td>4</td>
<td>index type</td>
<td>the type of the index. Known values: 0 - normal index, 2 - inflections
</td></tr>
<tr>
<td>12</td>
<td>0x0c</td>
<td>4</td>
<td>?</td>
<td>?
</td></tr>
<tr>
<td>16</td>
<td>0x10</td>
<td>4</td>
<td>?</td>
<td>?
</td></tr>
<tr>
<td>20</td>
<td>0x14</td>
<td>4</td>
<td>idxt start</td>
<td>the offset to the IDXT section
</td></tr>
<tr>
<td>24</td>
<td>0x18</td>
<td>4</td>
<td>index count</td>
<td>the number of index records
</td></tr>
<tr>
<td>28</td>
<td>0x1c</td>
<td>4</td>
<td>index encoding</td>
<td>
</td></tr>
<tr>
<td>32</td>
<td>0x20</td>
<td>4</td>
<td>index language</td>
<td>the language code of the index
</td></tr>
<tr>
<td>36</td>
<td>0x24</td>
<td>4</td>
<td>total index count</td>
<td>the number of index entries
</td></tr>
<tr>
<td>40</td>
<td>0x28</td>
<td>4</td>
<td>ordt start</td>
<td>the offset to the ORDT section
</td></tr>
<tr>
<td>44</td>
<td>0x2c</td>
<td>4</td>
<td>ligt start</td>
<td>the offset to the LIGT section
</td></tr>
<tr>
<td>48</td>
<td>0x30</td>
<td>4</td>
<td>?</td>
<td>?
</td></tr>
<tr>
<td>52</td>
<td>0x34</td>
<td>4</td>
<td>?</td>
<td>?
</td></tr></tbody></table>
<p>The remaining INDX header values are unknown.
</p>
<h5><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=8" title="Edit section: TAGX section">edit</a>]</span> <span class="mw-headline" id="TAGX_section"> TAGX section </span></h5>
<p>The TAGX section follows the INDX header and is essential for decoding the index values, as it defines which how many control bytes an entry contains, which bits correspond to which tag and how many values a tag requires (most tag need one value, but some have two, maybe more).
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>hex</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>0</td>
<td>0x00</td>
<td>4</td>
<td>Identifier</td>
<td>the characters T A G X
</td></tr>
<tr>
<td>4</td>
<td>0x04</td>
<td>4</td>
<td>header length</td>
<td>the length of the TAGX header, including the previous 4 bytes
</td></tr>
<tr>
<td>8</td>
<td>0x08</td>
<td>4</td>
<td>control byte count</td>
<td>the number of control bytes
</td></tr>
<tr>
<td>12</td>
<td>0x0c</td>
<td>n</td>
<td>tag table</td>
<td>the tag table entries (n = header length - 12, must be multiple of 4 bytes)
</td></tr></tbody></table>
<p>The tag table entries are multiple of 4 bytes. The first byte is the tag, the second byte the number of values, the third byte the bit mask and the fourth byte indicates the end of the control byte. If the fourth byte is 0x01, all other bytes of the entry are zero.
</p>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=9" title="Edit section: Variable-width integers">edit</a>]</span> <span class="mw-headline" id="Variable-width_integers"> Variable-width integers </span></h4>
<p>Some parts of the Mobipocket format encode data as variable-width integers.  These integers are represented big-endian with 7 bits per byte in bits 1-7.  They may be either <i>forward-encoded</i>, in which case only the LSB has bit 8 set, or <i>backward-encoded</i>, in which case only the MSB has bit 8 set.  For example, the number 0x11111 would be represented forward-encoded as:
</p>
<pre>   0x04 0x22 0x91
</pre>
<p>And backward-encoded as:
</p>
<pre>   0x84 0x22 0x11
</pre>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=10" title="Edit section: Trailing entries">edit</a>]</span> <span class="mw-headline" id="Trailing_entries"> Trailing entries </span></h4>
<p>The Extra Data Flags field of the MOBI header indicates which, if any, trailing entries are appended to the end of each text record.  Each set bit in the field indicates a trailing entry.  The entries appear to occur in bit-order; e.g., trailing entry 1 immediately follows the text content and entry 16 occurs at the very end of the record.  The effect and exact details of most of these entries is unknown.  The trailing entries indicated by bits 2-16 appear to follow a common format.  That format is:
</p>
<pre>   &lt;data&gt;&lt;size&gt;
</pre>
<p>Where &lt;size&gt; is the size of the entire trailing entry (including the size of &lt;size&gt;) as a backward-encoded Mobipocket variable-width integer.
</p><p>Only a few bits have been identified
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>bit</th>
<th>Data at end of records
</th></tr>
<tr>
<td>0x0001</td>
<td>Multi-byte character overlaps
</td></tr>
<tr>
<td>0x0002</td>
<td>Some data to help with indexing
</td></tr>
<tr>
<td>0x0004</td>
<td>Some data about uncrossable breaks
</td></tr></tbody></table>
<h5><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=11" title="Edit section: Multibyte character overlap">edit</a>]</span> <span class="mw-headline" id="Multibyte_character_overlap"> Multibyte character overlap </span></h5>
<p>When bit 1 of the Extra Data Flags field is set, each record is followed by a trailing entry containing any extra bytes necessary to complete a multibyte character which crosses the record boundary.  The bytes do not participate in compression regardless which compression scheme is used for the file.  However, unlike the trailing data bytes, the multibytes (including the count byte) <b>do</b> get included in any encryption. The overlapping bytes then re-appear as normal content at the beginning of the following record.  The trailing entry ends with a byte containing a count of the overlapping bytes plus additional flags.
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>0</td>
<td>0-3</td>
<td>N terminal bytes of a multibyte character</td>
<td>
</td></tr>
<tr>
<td>N</td>
<td>1</td>
<td>Size &amp; flags</td>
<td>bits 1-2 encode N, use of bits 3-8 is unknown
</td></tr></tbody></table>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=12" title="Edit section: PalmDOC Compression">edit</a>]</span> <span class="mw-headline" id="PalmDOC_Compression"> PalmDOC Compression </span></h4>
<p>PalmDOC uses LZ77 compression techniques. DOC files can contain only compressed text. The format does not allow for any text formatting. This keeps files small, in keeping with the Palm philosophy. However, extensions to the format can use tags, such as <a href="http://wiki.mobileread.com/wiki/HTML" title="HTML">HTML</a> or <a href="http://wiki.mobileread.com/wiki/Palm_Reader#Palm_Markup_Language" title="Palm Reader" class="mw-redirect">PML</a>, to include formatting within text. These extensions to PalmDoc are not interchangeable and are the basis for most eBook Reader formats on Palm devices.
</p><p>LZ77 algorithms achieve compression by replacing portions of the data with references to matching data that has already passed through both encoder and decoder. A match is encoded by a pair of numbers called a length-distance pair, which is equivalent to the statement "each of the next length characters is equal to the character exactly distance characters behind it in the uncompressed stream." (The "distance" is sometimes called the "offset" instead.)
</p><p>In the PalmDoc format, a length-distance pair is always encoded by a two-byte sequence. Of the 16 bits that make up these two bytes, 11 bits go to encoding the distance, 3 go to encoding the length, and the remaining two are used to make sure the decoder can identify the first byte as the beginning of such a two-byte sequence. The exact algorithm needed to decode the compressed text can be found on the <a href="http://wiki.mobileread.com/wiki/PalmDOC" title="PalmDOC">PalmDOC</a> page.
</p><p>PalmDOC data is always divided into 4096 byte blocks (uncompressed size) and the blocks are acted upon independently; no information from previous or later blocks is needed when a block is being compressed or decompressed.
</p><p>PalmDOC does have support for bookmarks. These pointers are named and refer to an offset location in a file. If the file is edited these locations may no longer refer to the correct locations. Some reading programs allow the user to enter or edit these bookmarks while others treat them as a TOC. Some reading programs may ignore them entirely. They are stored at the end of the file itself so the full file needs to be scanned when loaded to find them.
</p>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=13" title="Edit section: Image Records">edit</a>]</span> <span class="mw-headline" id="Image_Records"> Image Records </span></h4>
<p>If the file contains images, they follow the text blocks, with each image using a single block.  The 4096-byte record size in the PalmDoc header applies only to text records; image records may be larger.
</p>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=14" title="Edit section: Magic Records">edit</a>]</span> <span class="mw-headline" id="Magic_Records"> Magic Records </span></h4>
<p>In some cases, <a href="http://wiki.mobileread.com/wiki/MobiPocket_Creator" title="MobiPocket Creator">MobiPocket Creator</a> adds a 2-zero-byte record after the text records in a file.  This record is not included in the "record count" of text records in the PalmDoc header, and is also not used as the "first non-book index" in the MOBI header.  (If the 2-zero-byte record is present, the index of the <i>following</i> block is used as the "first non-book index".)
</p><p><a href="http://wiki.mobileread.com/wiki/MobiPocket_Creator" title="MobiPocket Creator">MobiPocket Creator</a> also ends files with three records: 'FLIS', 'FCIS', and 'end-of-file', in that order.  The 'FLIS' and 'FCIS' records do not seem to be necessary for <a href="http://wiki.mobileread.com/wiki/MobiPocket_Reader" title="MobiPocket Reader">MobiPocket Reader</a> or the <a href="http://wiki.mobileread.com/wiki/Amazon_Kindle_2" title="Amazon Kindle 2">Amazon Kindle 2</a> to read the file.  The 'end-of-file' record <i>might</i> be necessary.
</p>
<h5><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=15" title="Edit section: FLIS Record">edit</a>]</span> <span class="mw-headline" id="FLIS_Record"> FLIS Record </span></h5>
<p>The FLIS record appears to have a fixed value.  The meaning of the values is not known.
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>0</td>
<td>4</td>
<td>identifier</td>
<td>the characters F L I S (0x46 0x4c 0x49 0x53)
</td></tr>
<tr>
<td>4</td>
<td>4</td>
<td>?</td>
<td>fixed value: 8
</td></tr>
<tr>
<td>8</td>
<td>2</td>
<td>?</td>
<td>fixed value: 65
</td></tr>
<tr>
<td>10</td>
<td>2</td>
<td>?</td>
<td>fixed value: 0
</td></tr>
<tr>
<td>12</td>
<td>4</td>
<td>?</td>
<td>fixed value: 0
</td></tr>
<tr>
<td>16</td>
<td>4</td>
<td>?</td>
<td>fixed value: -1
</td></tr>
<tr>
<td>20</td>
<td>2</td>
<td>?</td>
<td>fixed value: 1
</td></tr>
<tr>
<td>22</td>
<td>2</td>
<td>?</td>
<td>fixed value: 3
</td></tr>
<tr>
<td>24</td>
<td>4</td>
<td>?</td>
<td>fixed value: 3
</td></tr>
<tr>
<td>28</td>
<td>4</td>
<td>?</td>
<td>fixed value: 1
</td></tr>
<tr>
<td>32</td>
<td>4</td>
<td>?</td>
<td>fixed value: -1
</td></tr></tbody></table>
<h5><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=16" title="Edit section: FCIS Record">edit</a>]</span> <span class="mw-headline" id="FCIS_Record"> FCIS Record </span></h5>
<p>The FCIS record appears to have mostly fixed values.
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>0</td>
<td>4</td>
<td>identifier</td>
<td>the characters F C I S (0x46 0x43 0x49 0x53)
</td></tr>
<tr>
<td>4</td>
<td>4</td>
<td>?</td>
<td>fixed value: 20
</td></tr>
<tr>
<td>8</td>
<td>4</td>
<td>?</td>
<td>fixed value: 16
</td></tr>
<tr>
<td>12</td>
<td>4</td>
<td>?</td>
<td>fixed value: 1
</td></tr>
<tr>
<td>16</td>
<td>4</td>
<td>?</td>
<td>fixed value: 0
</td></tr>
<tr>
<td>20</td>
<td>4</td>
<td>?</td>
<td>text length (the same value as "text length" in the PalmDoc header)
</td></tr>
<tr>
<td>24</td>
<td>4</td>
<td>?</td>
<td>fixed value: 0
</td></tr>
<tr>
<td>28</td>
<td>4</td>
<td>?</td>
<td>fixed value: 32
</td></tr>
<tr>
<td>32</td>
<td>4</td>
<td>?</td>
<td>fixed value: 8
</td></tr>
<tr>
<td>36</td>
<td>2</td>
<td>?</td>
<td>fixed value: 1
</td></tr>
<tr>
<td>38</td>
<td>2</td>
<td>?</td>
<td>fixed value: 1
</td></tr>
<tr>
<td>40</td>
<td>4</td>
<td>?</td>
<td>fixed value: 0
</td></tr></tbody></table>
<h5><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=17" title="Edit section: End-of-file Record">edit</a>]</span> <span class="mw-headline" id="End-of-file_Record"> End-of-file Record </span></h5>
<p>The end-of-file record is a fixed 4-byte record.  While the last two bytes appear to be a CRLF marker, the meaning of the first two bytes is unknown.
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>0</td>
<td>1</td>
<td>?</td>
<td>fixed value: 233 (0xe9)
</td></tr>
<tr>
<td>1</td>
<td>1</td>
<td>?</td>
<td>fixed value: 142 (0x8e)
</td></tr>
<tr>
<td>2</td>
<td>1</td>
<td>?</td>
<td>fixed value: 13 (0x0d)
</td></tr>
<tr>
<td>3</td>
<td>1</td>
<td>?</td>
<td>fixed value: 10 (0x0a)
</td></tr></tbody></table>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=18" title="Edit section: SRCS Record">edit</a>]</span> <span class="mw-headline" id="SRCS_Record"> SRCS Record </span></h4>
<p>kindlegen creates a record whose content is a zip archive of all source files (i.e., .opf, .ncx, .htm, .jpg, ...) given to the command and puts it in the generated MOBI file.  The record begins with the "SRCS" signature and is located just before the <a href="http://wiki.mobileread.com/wiki/MOBI#End-of-file_Record">#End-of-file Record</a>.
</p><p>MOBI files created with Mobipocket creator, Amazon's Personal Document Service, or Kindle Direct Publishing (former Amazon DTP) don't include SRCS record.  In a past, kindlegen had an undocumented option to suppress this record, but the option was removed in 2010.  
</p><p>A SRCS record looks as follows:
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>0</td>
<td>4</td>
<td>identifier</td>
<td>"SRCS" (0x53 0x52 0x43 0x53)
</td></tr>
<tr>
<td>4</td>
<td>4</td>
<td>?</td>
<td>fixed value(?): 0x00000010
</td></tr>
<tr>
<td>8</td>
<td>4</td>
<td>?</td>
<td>fixed value(?): 0x0000002f
</td></tr>
<tr>
<td>12</td>
<td>4</td>
<td>?</td>
<td>fixed value(?): 0x00000001
</td></tr>
<tr>
<td>16</td>
<td> </td>
<td>zip</td>
<td>The zip archive continues to the end of this record
</td></tr></tbody></table>
<h4><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=19" title="Edit section: Media Records (AUDI/VIDE)">edit</a>]</span> <span class="mw-headline" id="Media_Records_.28AUDI.2FVIDE.29"> Media Records (AUDI/VIDE) </span></h4>
<p>kindlegen supports embedded audio and video for some Kindle platforms. Each media file is stored in a separate AUDI (audio) or VIDE (video) record.
</p><p>A media record looks as follows:
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th>offset</th>
<th>bytes</th>
<th>content</th>
<th>comments
</th></tr>
<tr>
<td>0</td>
<td>4</td>
<td>identifier</td>
<td>"AUDI" (0x41 0x55 0x44 0x49) or "VIDE" (0x56 0x49 0x44 0x45)
</td></tr>
<tr>
<td>4</td>
<td>4</td>
<td>?</td>
<td>unkown value
</td></tr>
<tr>
<td>8</td>
<td>4</td>
<td>?</td>
<td>unknown value
</td></tr>
<tr>
<td>12</td>
<td> </td>
<td>media</td>
<td>The media data continues to the end of this record
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=20" title="Edit section: MBP">edit</a>]</span> <span class="mw-headline" id="MBP">MBP</span></h3>
<p>This is the extension used on a side file (auxiliary) for MOBI formatted eBooks. It is used to store <a href="http://wiki.mobileread.com/wiki/Metadata" title="Metadata">metadata</a> used by the library software and also to store user entered data like bookmarks, annotations, last read position. This file is created automatically by the reader program when the eBook is first opened and has a .mbp extension. The Library management software in MobiPocket uses this file to get information displayed in the library window such as title, author, and description so that it won't have to open the larger eBook file.
</p><p>There is an ongoing effort to describe the binary MBP file format (see <a href="http://www.angelfire.com/ego2/idleloop/mbp_reader.html#mbp_file_format" class="external text" rel="nofollow">this site</a>). There is also a <a href="http://www.angelfire.com/ego2/idleloop/mbp_reader.html" class="external text" rel="nofollow">mbp reader</a> program that will extract notes from a mbp file
</p>
<h2><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=21" title="Edit section: eBook Creation">edit</a>]</span> <span class="mw-headline" id="eBook_Creation">eBook Creation</span></h2>
<p>There are several ways to create eBooks in the MOBI format. The rules for the format of the source files need to create eBooks in MOBI are spelled out in documents on the <a href="http://www.mobipocket.com/dev/article.asp?BaseFolder=prcgen" class="external text" rel="nofollow">MobiPocket web site</a>. The recommended tool called <a href="http://wiki.mobileread.com/wiki/MobiPocket_Creator" title="MobiPocket Creator">MobiPocket Creator</a> is available as a download
from the web site.
</p><p>EBooks can also be converted from other forms using the Windows version of the <a href="http://wiki.mobileread.com/wiki/MobiPocket_Reader#Windows" title="MobiPocket Reader">MobiPocket Reader</a>. Once converted the file can be used on any device supported by <a href="http://wiki.mobileread.com/wiki/MobiPocket_Reader" title="MobiPocket Reader">MobiPocket Reader</a>.
</p>
<h3><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=22" title="Edit section: Guidelines">edit</a>]</span> <span class="mw-headline" id="Guidelines">Guidelines</span></h3>
<p>In order to better support the features of the <a href="http://wiki.mobileread.com/wiki/MobiPocket_Reader" title="MobiPocket Reader">MobiPocket Reader</a> there are some guidelines that need to be followed when creating a book in this format.
</p>
<ul><li> Do not specify a default font family, font size or other font attributes such as weight or color. This is a choice the person reading the eBook should be able to make. Fonts Sizes and Attributes can be specified for special headings and other specific items. Use only generic font families.
</li><li> Do not impose justification for standard text. It may be needed for captions and other special text.
</li><li> Do not use tables for anything except table data. Nested tables are not supported.
</li><li> Do not use blank lines to try and force page changes. Use the &lt;mbp:pagebreak/&gt; tag.
</li><li> Do not use multiple books for different devices. Instead use advanced features such as multi resolution images and platform specific frames.
</li></ul>
<h3><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=23" title="Edit section: Adapting images to various PDA screen resolutions">edit</a>]</span> <span class="mw-headline" id="Adapting_images_to_various_PDA_screen_resolutions">Adapting images to various PDA screen resolutions</span></h3>
<p>The IMG tag in Mobipocket publications supports up to three source attributes for various resolutions: src, losrc and hisrc. This makes it possible to optimize the same ebook for various devices. The image to be displayed is dynamically selected by the Reader according to the resolution of the screen on the actual device:
</p>
<table class="wikitable">

<tbody><tr style="vertical-align:top;">
<th><center>Attribute</center></th>
<th><center>screen smallest size</center></th>
<th><center>example devices</center>
</th></tr>
<tr>
<td>losrc</td>
<td>&lt;= 239 pixels</td>
<td>Low rez 160x160 Palm devices (PalmVx, Treo 600, Zire) Smartphones (Nokia 3650, Sony Ericson P800/900, Microsoft smartphones)
</td></tr>
<tr>
<td>src</td>
<td>&gt;= 240 pixels (handhelds)</td>
<td>Pocket PC, Hi rez Palm devices (Sony Clie, Tungsten, Zire 71)
</td></tr>
<tr>
<td>hisrc</td>
<td>&gt;= 480 pixels</td>
<td>any desktop or tablet PC
</td></tr></tbody></table>
<p>Example:
</p>
<pre>&lt;img hisrc="cover480x640.gif" src="cover220x300.gif" losrc="cover140x140.gif"/&gt;
</pre>
<p>Please also notice that there is a 63KB internal limitation for images (this is a restriction of the Mobipocket .PRC format). GIFs have to be smaller than 63KB. You can use GIF optimization programs such as Ulead Smart Saver to get GIFs smaller than 63KB. (If images are bigger than 63KB, they are automatically resized to fit in the limit by MobiGEN but you might not like the result). Jpeg images will use a lower Quality setting to get the image size down without reducing the pixel size.
</p>
<h2><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=24" title="Edit section: Format limitations">edit</a>]</span> <span class="mw-headline" id="Format_limitations">Format limitations</span></h2>
<p>There are many limitations in the MOBI format. A few are listed here.
</p>
<ul><li> Blocks of text can never have a greater than normal margin on their right side. 
</li><li> Left margins can only be specified in 1em increments. Text can only have a hanging indent if it has no left margin.  More recent kindle renderers have increased the left margin increment to roughly 2em increments.
</li><li> Text cannot flow around images taller than one line of text. 
</li><li> Image sizes cannot be scaled with font size. 
</li><li> In some -- but not all -- Mobipocket renderers, text with a left margin changes that margin value per line based upon the font-size at which point the preceding line-break occurred. 
</li><li> Many measures, such as the indent of a hanging indent, cannot be specified in ems. 
</li><li> Individual items of text cannot be displayed in a monospace font. 
</li><li> Tables display wildly differently on different Mobipocket renderers, especially tables which cross more than one screen. 
</li><li> Nested tables are not supported at all. 
</li><li> In addition you only get the full range of Mobipocket's formatting capabilities if you have markup written to use Mobipocket's non-standard, extended, and under-documented implementation of HTML 3.2. See: <a href="http://www.mobipocket.com/dev/article.asp?BaseFolder=prcgen&File=TagRef_OEB.htm" class="external text" rel="nofollow">File tag reference</a> on the mobipocket web site.
</li></ul>
<h2><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=25" title="Edit section: MOBI DRM">edit</a>]</span> <span class="mw-headline" id="MOBI_DRM">MOBI DRM</span></h2>
<p>Mobi <a href="http://wiki.mobileread.com/wiki/DRM" title="DRM">DRM</a> can optionally be applied to this file format. There is the standard scheme supported by Mobipocket and <a href="http://wiki.mobileread.com/wiki/Overdrive" title="Overdrive">Overdrive</a> servers. This is based on an ID derived from the reading device or program. This PID must be known to the server when an eBook is purchased and will be embedded in the file and locked to the device. The licensing scheme does permit multiple devices (usually up to 4) to be supported. In this case the server needs to know device id of all the devices. If you add a device you must tell the server and redownload the eBook to be able to read it on the new device. Normally there is no charge to add a device or for redownloading the eBook. If the dealer goes out of business you may not be able to add a device since there would be no way to redownload the file.
</p><p>A second, simpler scheme, only requires knowledge of the account login name and password used to purchase the eBook. Once this data is entered the eBook can be read. Entering this data is only required once per device. This is a new scheme and some readers may not have support for this method.
</p><p>A third method used on some ebooks is to use a generic MOBI key. It has encryption but only using the generic MOBI key (not a PID-specific key). This means that can be read by any MobiPocket Reader software, on any device, but not by any non-MobiPocket software.
</p><p>The DRM applies only to the eBook itself and not to the <a href="http://wiki.mobileread.com/wiki/Metadata" title="Metadata">metadata</a>. A library routine can read the metadata without having to unlock the eBook. Some programs have been devised to even be able to change this information without touching the DRM portion of the file.
</p>
<h2><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=26" title="Edit section: MOBI eBook Readers and converters">edit</a>]</span> <span class="mw-headline" id="MOBI_eBook_Readers_and_converters">MOBI eBook Readers and converters</span></h2>
<p>In addition to the <a href="http://wiki.mobileread.com/wiki/MobiPocket_Reader" title="MobiPocket Reader">MobiPocket supplied Readers</a> there are also 3rd party readers and converters. This include:
</p>
<ul><li> <a href="http://wiki.mobileread.com/wiki/Calibre" title="Calibre">Calibre</a>
</li><li> <a href="http://wiki.mobileread.com/wiki/Stanza" title="Stanza">Stanza</a>
</li><li> <a href="http://wiki.mobileread.com/wiki/FBReader" title="FBReader">FBReader</a>
</li><li> <a href="http://wiki.mobileread.com/wiki/Book_Designer" title="Book Designer">Book Designer</a>
</li><li> <a href="http://www.angelfire.com/ego2/idleloop/mbp_reader.html" class="external text" rel="nofollow">MBP_reader</a> (program that can extract MBP notes to text files).
</li><li> <a href="http://www.amazon.com/gp/kindle/pc" class="external text" rel="nofollow">Kindle for PC</a> or <a href="http://www.amazon.com/gp/kindle/mac" class="external text" rel="nofollow">Mac</a>
</li><li> <a href="http://www.epubkindle.com/" class="external text" rel="nofollow">EPUB to Kindle converter</a>
</li><li> <a href="http://www.ebook-tool.com/" class="external text" rel="nofollow">PDF/ePUB to Kindle Tool</a>
</li><li> <a href="http://www.kindlewriter.co.uk/kindex.htm" class="external text" rel="nofollow">Kindle Book Development Tool</a>
</li><li> <a href="http://www.mobileread.com/forums/showthread.php?t=61986" class="external text" rel="nofollow">MobiUnpack.py</a> - description on MobileRead forum. Mobiunpack will explode a mobi file into its original form. Also called a mobi decoder.
</li></ul>
<h2><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=27" title="Edit section: MOBI eBook Hardware Readers">edit</a>]</span> <span class="mw-headline" id="MOBI_eBook_Hardware_Readers">MOBI eBook Hardware Readers </span></h2>
<ul><li> <a href="http://wiki.mobileread.com/wiki/Bookeen_Cybook_Gen3" title="Bookeen Cybook Gen3"> Bookeen Cybook Gen3</a>
</li><li> <a href="http://wiki.mobileread.com/wiki/Hanlin_V3" title="Hanlin V3"> Hanlin V3 / Bebook / EZ Reader</a>
</li><li> <a href="http://wiki.mobileread.com/wiki/IRex_iLiad" title="IRex iLiad"> iRex iLiad</a>
</li><li> <a href="http://wiki.mobileread.com/wiki/IRex_Digital_Reader" title="IRex Digital Reader"> iRex Digital Reader</a>
</li><li> <a href="http://wiki.mobileread.com/wiki/Amazon_Kindle" title="Amazon Kindle"> Amazon Kindle Readers</a>
</li><li> <a href="http://wiki.mobileread.com/wiki/Boox60" title="Boox60"> Onyx BOOX readers</a>
</li></ul>
<p>Not all eBook readers that support Mobi format have the same features. Check <a href="http://wiki.mobileread.com/wiki/Mobi_Comparison" title="Mobi Comparison">Mobi Comparison</a> for details on what is actually supported.
</p>
<h2><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=28" title="Edit section: Create a MOBI file from an ePub file">edit</a>]</span> <span class="mw-headline" id="Create_a_MOBI_file_from_an_ePub_file">Create a MOBI file from an ePub file</span></h2>
<p>Here is one method to create a mobi file from an ePub file. 
</p>
<ol><li> Make sure you ONLY use headers h1-h2-h3 for the TOC entries you want (reason for this later, or use 9a, below);
</li><li> Make your entire ePub in <a href="http://wiki.mobileread.com/wiki/Sigil" title="Sigil">Sigil</a>, importing your html files as you go, using the "add existing item" option.
</li><li> Finish up your ePUB, don't bother adding the Cover page.
</li><li> Download MobiPocket Creator. Install.
</li><li> Unzip your ePUB.
</li><li> Double-click the OPF.
</li><li> KA-BLAMMO!! Your entire book will open in front of you in MobiPocket Creator.
</li><li> Drag-n-drop your cover into MBP Creator.
</li><li> Use MBP Creator to make a html.TOC with headers 1-2-3 only, or,
</li><li> Alternative: Point MPCreator to an existing html.toc by editing the Guide Properties section. (n.b.--the toc.ncx will already be in the appropriate folder inside the "My Publications" folder of your MBPCreator dir)
</li><li> Click "Build."
</li><li> KA-BLAMMO! You have a fully-functional PRC file.
</li><li> You can rename the extension to MOBI or AZW if you wish.
</li></ol>
<h2><span class="editsection">[<a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit&section=29" title="Edit section: For more information">edit</a>]</span> <span class="mw-headline" id="For_more_information">For more information</span></h2>
<ul><li> <a href="http://kindleformatting.com/book/" class="external text" rel="nofollow">Guide to Kindle formatting</a> (same format as mobi)
</li><li> <a href="http://www.mobipocket.com/en/DownloadSoft/ProductDetailsCreator.asp" class="external text" rel="nofollow">Mobipocket Creator</a> - free download
</li><li> <a href="http://www.mobipocket.com/dev/" class="external text" rel="nofollow">Mobipocket Development center</a> - creation documentation
</li><li> <a href="http://www.amazon.com/gp/feature.html?ie=UTF8&docId=1000234621" class="external text" rel="nofollow">Amazon KindleGen</a> - an upgrade to mobiGen but works fine for mobi books.
</li><li> <a href="http://wiki.mobileread.com/wiki/KindleGen" title="KindleGen">KindleGen</a> - our wiki page on using KindleGen.
</li><li> <a href="http://www.mobileread.com/forums/showpost.php?p=774836&postcount=5" class="external text" rel="nofollow">MobileRead forum</a> - Mobi unpack, take apart a mobi file.
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 115/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mobileread-com-wiki:pcache:idhash:1904-0!*!0!!en!* and timestamp 20111201215157 -->
<div class="printfooter">
Retrieved from "<a href="./mobi-spec_files/MOBI.html">http://wiki.mobileread.com/wiki/MOBI</a>"</div>
				<!-- /bodytext -->
								<!-- catlinks -->
				<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks"><a href="http://wiki.mobileread.com/wiki/Special:Categories" title="Special:Categories">Category</a>: <span dir="ltr"><a href="http://wiki.mobileread.com/wiki/Category:Formats" title="Category:Formats">Formats</a></span></div></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
					<li id="pt-login"><a href="http://wiki.mobileread.com/w/index.php?title=Special:UserLogin&returnto=MOBI" title="You are encouraged to log in; however, it is not mandatory [ctrl-option-o]" accesskey="o">Log in / create account</a></li>
			</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li id="ca-nstab-main" class="selected"><span><a href="./mobi-spec_files/MOBI.html" title="View the content page [ctrl-option-c]" accesskey="c">Page</a></span></li>
					<li id="ca-talk"><span><a href="http://wiki.mobileread.com/wiki/Talk:MOBI" title="Discussion about the content page [ctrl-option-t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Variants</span><a href="http://wiki.mobileread.com/wiki/MOBI#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="./mobi-spec_files/MOBI.html">Read</a></span></li>
					<li id="ca-edit"><span><a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=edit" title="You can edit this page. Please use the preview button before saving [ctrl-option-e]" accesskey="e">Edit</a></span></li>
					<li id="ca-history" class="collapsible "><span><a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=history" title="Past revisions of this page [ctrl-option-h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="http://wiki.mobileread.com/wiki/MOBI#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://wiki.mobileread.com/w/index.php" id="searchform">
		<input type="hidden" name="title" value="Special:Search">
				<div id="simpleSearch">
						<input id="searchInput" name="search" type="text" title="Search MobileRead [ctrl-option-f]" accesskey="f" value="" placeholder="Search" autocomplete="off">
						<button id="searchButton" type="submit" name="button" title="Search the pages for this text"><img src="./mobi-spec_files/search-ltr.png" alt="Search"></button>
					</div>
			</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(/i/logo.png);" href="http://wiki.mobileread.com/wiki/Main_Page" title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id="p-navigation">
	<h5>Navigation</h5>
	<div class="body">
				<ul>
					<li id="n-mainpage"><a href="http://wiki.mobileread.com/wiki/Main_Page" title="Visit the main page [ctrl-option-z]" accesskey="z">Main Page</a></li>
					<li id="n-portal"><a href="http://wiki.mobileread.com/wiki/MobileRead:Community_Portal" title="About the project, what you can do, where to find things">Community portal</a></li>
					<li id="n-recentchanges"><a href="http://wiki.mobileread.com/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [ctrl-option-r]" accesskey="r">Recent changes</a></li>
					<li id="n-help"><a href="http://wiki.mobileread.com/wiki/Help:Contents" title="The place to find out">Help</a></li>
				</ul>
			</div>
</div>

<!-- /navigation -->

<!-- MobileRead Networks -->
<div class="portal" id="p-MobileRead_Networks">
	<h5>MobileRead Networks</h5>
	<div class="body">
				<ul>
					<li id="n-FORUMS"><a href="http://www.mobileread.com/forums/">FORUMS</a></li>
					<li id="n-Frontnews"><a href="http://www.mobileread.com/">Frontnews</a></li>
					<li id="n-Developer-Hub"><a href="http://dev.mobileread.com/">Developer Hub</a></li>
				</ul>
			</div>
</div>

<!-- /MobileRead Networks -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id="p-tb">
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
					<li id="t-whatlinkshere"><a href="http://wiki.mobileread.com/wiki/Special:WhatLinksHere/MOBI" title="List of all wiki pages that link here [ctrl-option-j]" accesskey="j">What links here</a></li>
						<li id="t-recentchangeslinked"><a href="http://wiki.mobileread.com/wiki/Special:RecentChangesLinked/MOBI" title="Recent changes in pages linked from this page [ctrl-option-k]" accesskey="k">Related changes</a></li>
																																										<li id="t-specialpages"><a href="http://wiki.mobileread.com/wiki/Special:SpecialPages" title="List of all special pages [ctrl-option-q]" accesskey="q">Special pages</a></li>
									<li id="t-print"><a href="http://wiki.mobileread.com/w/index.php?title=MOBI&printable=yes" rel="alternate" title="Printable version of this page [ctrl-option-p]" accesskey="p">Printable version</a></li>
						<li id="t-permalink"><a href="http://wiki.mobileread.com/w/index.php?title=MOBI&oldid=27353" title="Permanent link to this revision of the page">Permanent link</a></li>
						</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
											<ul id="footer-info">
																	<li id="footer-info-viewcount">This page has been accessed 265,484 times.</li>
																							<li id="footer-info-credits">This page was last modified 21:51, 1 December 2011 by MobileRead anonymous user <a href="http://wiki.mobileread.com/wiki/Special:Contributions/84.3.112.90" title="Special:Contributions/84.3.112.90">84.3.112.90</a>. Based on work by <a href="http://wiki.mobileread.com/wiki/User:DaleDe" title="User:DaleDe">Dale DePriest</a>, MobileRead anonymous user <a href="http://wiki.mobileread.com/wiki/Special:Contributions/58.69.28.60" title="Special:Contributions/58.69.28.60">58.69.28.60</a> and <a href="http://wiki.mobileread.com/w/index.php?title=MOBI&action=credits" title="MOBI">others</a>.</li>
																							<li id="footer-info-copyright">Content is available under <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" class="external ">Creative Commons Attribution Non-Commercial Share Alike</a>.</li>
															</ul>
															<ul id="footer-places">
																	<li id="footer-places-privacy"><a href="http://wiki.mobileread.com/wiki/MobileRead:Privacy_policy" title="MobileRead:Privacy policy">Privacy policy</a></li>
																							<li id="footer-places-about"><a href="http://wiki.mobileread.com/wiki/MobileRead:About" title="MobileRead:About">About MobileRead</a></li>
																							<li id="footer-places-disclaimer"><a href="http://wiki.mobileread.com/wiki/MobileRead:General_disclaimer" title="MobileRead:General disclaimer">Disclaimers</a></li>
															</ul>
											<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="./mobi-spec_files/cc-by-nc-sa.png" alt="Creative Commons Attribution Non-Commercial Share Alike" width="88" height="31"></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		
<script src="./mobi-spec_files/load.php"></script><script src="./mobi-spec_files/load(1).php"></script>
<script>if ( window.mediaWiki ) {
	mediaWiki.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "MOBI", "wgTitle": "MOBI", "wgAction": "view", "wgArticleId": 1904, "wgIsArticle": true, "wgUserName": null, "wgUserGroups": ["*"], "wgCurRevisionId": 27353, "wgCategories": ["Formats"], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": [], "wgSearchNamespaces": [0], "wgVectorEnabledModules": {"collapsiblenav": false, "collapsibletabs": false, "editwarning": true, "expandablesearch": false, "footercleanup": false, "simplesearch": true}, "wgWikiEditorEnabledModules": {"toolbar": true, "dialogs": true, "templateEditor": false, "templates": false, "addMediaWizard": false, "preview": true, "previewDialog": false, "publish": false, "toc": false}});
}
</script>
<script>if ( window.mediaWiki ) {
	mediaWiki.loader.load(["mediawiki.util", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax", "mediawiki.legacy.mwsuggest", "ext.vector.editWarning", "ext.vector.simpleSearch"]);
	mediaWiki.loader.go();
}
</script><script type="text/javascript" src="./mobi-spec_files/load(2).php"></script><script type="text/javascript" src="./mobi-spec_files/load(3).php"></script>

<script src="./mobi-spec_files/load(4).php"></script>
<script>if ( window.mediaWiki ) {
	mediaWiki.user.options.set({"ccmeonemails":0,"cols":80,"contextchars":50,"contextlines":5,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
	"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"vector-simplesearch":1,"usebetatoolbar":true,"usebetatoolbar-cgd":true,"wikieditor-preview":true,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;mediaWiki.loader.state({"user.options":"ready"});
}
</script><script type="text/javascript">
_qevents.push( { qacct:"p-13lWtv_C89CCg"} );
</script>
<noscript>
&lt;div style="display: none;"&gt;&lt;img src="//pixel.quantserve.com/pixel/p-test123.gif" height="1" width="1" alt="Quantcast"/&gt;&lt;/div&gt;
</noscript>
			<!-- fixalpha -->
		<script type="text/javascript"> if ( window.isMSIE55 ) fixalpha(); </script>
		<!-- /fixalpha -->
		<!-- Served in 0.046 secs. -->			
<!-- Cached 20111201215158 -->

<div style="top: 71px; width: 203px; display: none; left: auto; right: 30px; " class="suggestions"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>